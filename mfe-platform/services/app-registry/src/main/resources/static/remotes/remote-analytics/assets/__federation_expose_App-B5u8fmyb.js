import{importShared as r}from"./__federation_fn_import-Cd32C4uw.js";import{c as k,j as e}from"./createTheme-DfTwmI4w.js";const U=k({spacing:8,shape:{borderRadius:10},palette:{mode:"light",primary:{main:"#2f5d46",light:"#4f7a62",dark:"#214333",contrastText:"#f7f8f6"},secondary:{main:"#b45f3b",light:"#cf7d57",dark:"#8f4526",contrastText:"#ffffff"},background:{default:"#f2f0ea",paper:"#fcfbf8"},divider:"#d9d4c9",text:{primary:"#2f2b24",secondary:"#5f584c"},action:{hover:"#ebe7dd",selected:"#e3ddd0"}},typography:{fontFamily:"Inter, system-ui, -apple-system, sans-serif",h4:{fontWeight:700,letterSpacing:-.2},h5:{fontWeight:700},h6:{fontWeight:600},body1:{lineHeight:1.5},body2:{lineHeight:1.45}}}),{Box:j,Stack:w,Typography:S}=await r("@mui/material");function _({title:t,subtitle:a,actions:s}){return e.jsxs(w,{direction:{xs:"column",sm:"row"},spacing:1.5,justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},children:[e.jsxs(j,{children:[e.jsx(S,{variant:"h5",children:t}),a?e.jsx(S,{variant:"body2",color:"text.secondary",children:a}):null]}),s?e.jsx(j,{children:s}):null]})}const{Paper:z,Stack:G,Typography:Y}=await r("@mui/material"),{Alert:q,Button:J,Stack:Q,Typography:X}=await r("@mui/material"),{Paper:Z,Skeleton:ee,Stack:ae}=await r("@mui/material"),D="__MFE_PLATFORM_EVENT_BUS__";function L(){return window[D]}function f(t,a){L()?.publish(t,a)}const T=t=>{let a;const s=new Set,i=(n,x)=>{const u=typeof n=="function"?n(a):n;if(!Object.is(u,a)){const A=a;a=x??(typeof u!="object"||u===null)?u:Object.assign({},a,u),s.forEach(I=>I(a,A))}},m=()=>a,h={setState:i,getState:m,getInitialState:()=>g,subscribe:n=>(s.add(n),()=>s.delete(n))},g=a=t(i,m,h);return h},P=t=>t?T(t):T,p=await r("react"),B=t=>t;function $(t,a=B){const s=p.useSyncExternalStore(t.subscribe,p.useCallback(()=>a(t.getState()),[t,a]),p.useCallback(()=>a(t.getInitialState()),[t,a]));return p.useDebugValue(s),s}const E=t=>{const a=P(t),s=i=>$(a,i);return Object.assign(s,a),s},W=t=>t?E(t):E,O=W(t=>({timeRange:"30D",segment:"ALL",setTimeRange:a=>t({timeRange:a}),setSegment:a=>t({segment:a})})),{Box:c,FormControl:R,InputLabel:C,MenuItem:o,Paper:b,Select:M,Stack:y,Typography:l}=await r("@mui/material"),{useMemo:F}=await r("react"),H={"7D":[{label:"Mon",value:42},{label:"Tue",value:55},{label:"Wed",value:37},{label:"Thu",value:61},{label:"Fri",value:48}],"30D":[{label:"W1",value:220},{label:"W2",value:260},{label:"W3",value:210},{label:"W4",value:300}],"90D":[{label:"M1",value:880},{label:"M2",value:960},{label:"M3",value:910}]},N={ALL:1,SMB:.75,ENTERPRISE:1.25};function te(){const{timeRange:t,segment:a,setTimeRange:s,setSegment:i}=O(),m=n=>{s(n),f("TRACK_EVENT",{name:"analytics.time_range_changed",properties:{range:n}})},v=n=>{i(n),f("SHOW_TOAST",{message:`Segment: ${n}`,severity:"info"}),f("TRACK_EVENT",{name:"analytics.segment_changed",properties:{segment:n}})},d=F(()=>H[t].map(n=>({...n,value:Math.round(n.value*N[a])})),[t,a]),h=Math.max(...d.map(n=>n.value),1),g=d.reduce((n,x)=>n+x.value,0);return e.jsx(b,{sx:{p:{xs:1.5,sm:2},border:1,borderColor:"divider"},children:e.jsxs(y,{spacing:2,children:[e.jsx(_,{title:"Analytics Dashboard",subtitle:"Monitor activity trends with segment and time-range filters."}),e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(4, minmax(0, 1fr))"},gap:2},children:[e.jsx(c,{sx:{gridColumn:{xs:"span 1",md:"span 1"}},children:e.jsxs(R,{fullWidth:!0,size:"small",children:[e.jsx(C,{id:"analytics-range-label",children:"Time Range"}),e.jsxs(M,{labelId:"analytics-range-label",label:"Time Range",value:t,onChange:n=>m(n.target.value),children:[e.jsx(o,{value:"7D",children:"Last 7 Days"}),e.jsx(o,{value:"30D",children:"Last 30 Days"}),e.jsx(o,{value:"90D",children:"Last 90 Days"})]})]})}),e.jsx(c,{sx:{gridColumn:{xs:"span 1",md:"span 1"}},children:e.jsxs(R,{fullWidth:!0,size:"small",children:[e.jsx(C,{id:"analytics-segment-label",children:"Segment"}),e.jsxs(M,{labelId:"analytics-segment-label",label:"Segment",value:a,onChange:n=>v(n.target.value),children:[e.jsx(o,{value:"ALL",children:"All"}),e.jsx(o,{value:"SMB",children:"SMB"}),e.jsx(o,{value:"ENTERPRISE",children:"Enterprise"})]})]})})]}),e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 1fr"},gap:2},children:[e.jsx(c,{children:e.jsxs(b,{variant:"outlined",sx:{p:2,borderColor:"divider"},children:[e.jsx(l,{variant:"subtitle1",sx:{mb:1.5},children:"Active Usage Trend"}),e.jsx(y,{direction:"row",alignItems:"flex-end",spacing:1.5,sx:{height:188,px:1,pb:.5},children:d.map(n=>e.jsxs(y,{alignItems:"center",spacing:.5,sx:{flex:1},children:[e.jsx(l,{variant:"caption",color:"text.secondary",children:n.value}),e.jsx(b,{elevation:0,sx:{width:"100%",height:`${Math.max(n.value/h*130,8)}px`,bgcolor:"primary.main",borderRadius:1}}),e.jsx(l,{variant:"caption",color:"text.secondary",children:n.label})]},n.label))})]})}),e.jsx(c,{children:e.jsxs(b,{variant:"outlined",sx:{p:2,borderColor:"divider",minHeight:188},children:[e.jsx(l,{variant:"subtitle1",children:"KPI Snapshot"}),e.jsxs(l,{variant:"body2",sx:{mt:1.5},children:["Total Activity: ",g]}),e.jsxs(l,{variant:"body2",children:["Average/Point: ",Math.round(g/d.length)]}),e.jsxs(l,{variant:"body2",children:["Segment: ",a]}),e.jsxs(l,{variant:"body2",children:["Range: ",t]})]})})]})]})})}export{U as a,te as default};
